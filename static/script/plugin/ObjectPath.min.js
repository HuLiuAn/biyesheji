/*!  2016-03-21 */
"use strict";!function(a){var b={parse:function(a){if("string"!=typeof a)throw new TypeError("ObjectPath.parse must be passed a string");for(var b,c,d,e,f=0,g=[];f<a.length;)if(b=a.indexOf(".",f),c=a.indexOf("[",f),-1===b&&-1===c)g.push(a.slice(f,a.length)),f=a.length;else if(-1===c||-1!==b&&c>b)g.push(a.slice(f,b)),f=b+1;else if(c>f&&(g.push(a.slice(f,c)),f=c),d=a.slice(c+1,c+2),'"'!==d&&"'"!==d)e=a.indexOf("]",c),-1===e&&(e=a.length),g.push(a.slice(f+1,e)),f="."===a.slice(e+1,e+2)?e+2:e+1;else{for(e=a.indexOf(d+"]",c),-1===e&&(e=a.length);"\\"===a.slice(e-1,e)&&c<a.length;)c++,e=a.indexOf(d+"]",c);g.push(a.slice(f+2,e).replace(new RegExp("\\"+d,"g"),d)),f="."===a.slice(e+2,e+3)?e+3:e+2}return g},stringify:function(a,b){return Array.isArray(a)||(a=[a.toString()]),b='"'===b?'"':"'",a.map(function(a){return"["+b+a.toString().replace(new RegExp(b,"g"),"\\"+b)+b+"]"}).join("")},normalize:function(a,c){return b.stringify(Array.isArray(a)?a:b.parse(a),c)},registerModule:function(a){a.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=b.parse,this.stringify=b.stringify,this.normalize=b.normalize,this.$get=function(){return b}})}};"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof exports?exports.ObjectPath=b:window.ObjectPath=b}();